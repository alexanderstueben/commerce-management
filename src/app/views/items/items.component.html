<p-toast></p-toast>
<p-table [value]="items" dataKey="id" editMode="row">
  <ng-template pTemplate="header">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Brand</th>
      <th>EAN</th>
      <th>EK</th>
      <th>VK</th>
      <th>Category</th>
      <th>Stock</th>
      <th></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-item let-editing="editing" let-ri="rowIndex">
    <tr [pEditableRow]="item">
      <td>{{ item.id }}</td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input pInputText type="text" [(ngModel)]="item.name" />
          </ng-template>
          <ng-template pTemplate="output">
            {{ item.name }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td>{{ item.brand }}</td>
      <td><p-tag [value]="item.ean" [rounded]="true" /></td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input pInputText type="text" [(ngModel)]="item.ek" />
          </ng-template>
          <ng-template pTemplate="output">
            {{ item.ek | currency: 'EUR' }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input pInputText type="text" [(ngModel)]="item.vk" />
          </ng-template>
          <ng-template pTemplate="output">
            {{ item.vk | currency: 'EUR' }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td>{{ item.categoryId }}</td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input pInputText type="number" [(ngModel)]="item.stock" />
          </ng-template>
          <ng-template pTemplate="output">
            {{ item.stock }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td>
        <div>
          <p-button *ngIf="!editing" pInitEditableRow icon="pi pi-pencil" (onClick)="onRowEditInit(item)" styleClass="p-button-rounded p-button-text"></p-button>
          <p-button *ngIf="editing" pSaveEditableRow icon="pi pi-check" (onClick)="onRowEditSave(item)" styleClass="p-button-rounded p-button-text p-button-success mr-2"></p-button>
          <p-button *ngIf="editing" pCancelEditableRow icon="pi pi-times" (onClick)="onRowEditCancel(item, ri)" styleClass="p-button-rounded p-button-text p-button-danger"></p-button>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>