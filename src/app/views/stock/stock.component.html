<p-table [value]="(articles$ | async)!" editMode="row" (onEditInit)="edited = true">
  <ng-template pTemplate="header">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Brand</th>
      <th>EAN</th>
      <th>EK</th>
      <th>VK</th>
      <th>Category</th>
      <th>Stock</th>
      <th></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-article let-editing>
    <tr [pEditableRow]="article">
      <td>{{ article.id }}</td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input pInputText type="text" [(ngModel)]="article.name" />
          </ng-template>
          <ng-template pTemplate="output">
            {{ article.name }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td>{{ article.brand }}</td>
      <td><p-tag [value]="article.ean" [rounded]="true" /></td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input pInputText type="text" [(ngModel)]="article.ek" />
          </ng-template>
          <ng-template pTemplate="output">
            {{ article.ek | currency: 'EUR' }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input pInputText type="text" [(ngModel)]="article.vk" />
          </ng-template>
          <ng-template pTemplate="output">
            {{ article.vk | currency: 'EUR' }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td>{{ article.categoryId }}</td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input pInputText type="number" [(ngModel)]="article.stock" />
          </ng-template>
          <ng-template pTemplate="output">
            {{ article.stock }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td>
        <div>
          <p-button *ngIf="!editing" pInitEditableRow icon="pi pi-pencil" styleClass="p-button-rounded p-button-text"></p-button>
          <p-button *ngIf="editing" pSaveEditableRow icon="pi pi-check" styleClass="p-button-rounded p-button-text p-button-success mr-2"></p-button>
          <p-button *ngIf="editing" pCancelEditableRow icon="pi pi-times" styleClass="p-button-rounded p-button-text p-button-danger"></p-button>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>
<p-button *ngIf="edited" label="Save" (onClick)="edited = false"/>
